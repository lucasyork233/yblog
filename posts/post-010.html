<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>upgrade eggs sys</title>
</head>
<body>
  <article data-slug="post-010" data-title="upgrade eggs sys" data-date="Sun Jan 18 2026 08:00:00 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)" data-summary="å‡çº§å½©è›‹ç³»ç»Ÿ" data-tags="eggs">
    <p><h2>æ–‡ä»¶ç»“æ„</h2></p><p><pre><code class="language-plaintext">â”œâ”€â”€ easter-eggs/        # å½©è›‹ç›®å½•
â”‚   â”œâ”€â”€ config.js         # é…ç½®æ–‡ä»¶ï¼ˆæ³¨å†Œå½©è›‹ï¼‰
â”‚   â”œâ”€â”€ manager.js        # ç®¡ç†å™¨ï¼ˆè‡ªåŠ¨åŠ è½½ï¼‰
â”‚   â”œâ”€â”€ egg1.js           # å½©è›‹1
â”‚   â””â”€â”€ egg2.js           # å½©è›‹2
â”œâ”€â”€ index.html          # å¼•å…¥ç®¡ç†å™¨
â””â”€â”€ app.js              # ä½¿ç”¨ç®¡ç†å™¨è·¯ç”±</code></pre></p><p><h2>æ·»åŠ å½©è›‹æ­¥éª¤</h2></p><p><h3>æ­¥éª¤ 1ï¼šåˆ›å»ºå½©è›‹æ–‡ä»¶</h3></p><p>åœ¨ <code>easter-eggs/</code> ç›®å½•åˆ›å»º <code>new-egg.js</code></p><p><pre><code class="language-javascript">const NewEggEasterEgg = {
  // æ¸²æŸ“é¡µé¢
  render(app, navigate) {
    app.innerHTML = `
      &lt;div class="page"&gt;
        &lt;div class="card"&gt;
          &lt;h1&gt;ğŸ æˆ‘çš„å½©è›‹&lt;/h1&gt;
          &lt;p&gt;è¿™æ˜¯ä¸€ä¸ªæ–°å½©è›‹ï¼&lt;/p&gt;
          &lt;button onclick="location.hash='#home'"&gt;è¿”å›é¦–é¡µ&lt;/button&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    `;

    // æ·»åŠ äº‹ä»¶ç›‘å¬
    document.getElementById('backBtn').addEventListener('click', () =&gt; {
      navigate('#home');
    });
  }
};

// æ³¨å†Œåˆ°å…¨å±€
if (typeof window !== 'undefined') {
  window.NewEggEasterEgg = NewEggEasterEgg;
}</code></pre></p><p><h3>æ­¥éª¤ 2ï¼šæ³¨å†Œå½©è›‹</h3></p><p>ç¼–è¾‘ <code>easter-eggs/config.js</code>ï¼Œæ·»åŠ é…ç½®ï¼š</p><p><pre><code class="language-javascript">const EASTER_EGGS = [
  {
    id: 'clock',                    // è·¯ç”± IDï¼ˆè®¿é—® #clockï¼‰
    name: 'ç•ªèŒ„æ—¶é’Ÿ',                // æ˜¾ç¤ºåç§°
    description: 'Pomodoro Timer',  // æè¿°
    file: 'clock.js',               // æ–‡ä»¶å
    icon: 'ğŸ…'                     // å›¾æ ‡ï¼ˆå¯é€‰ï¼‰
  },
  // ...

  // æ·»åŠ æ–°å½©è›‹
  {
    id: 'new-egg',         // æ–°å½©è›‹çš„ ID
    name: 'æ–°çš„å½©è›‹',
    description: 'New Egg',
    file: 'new-egg.js',
    icon: 'ğŸ'
  }
];</code></pre></p><p><h2>å½©è›‹å¼€å‘æŒ‡å—</h2></p><p><h3>render æ–¹æ³•</h3></p><p>æ¯ä¸ªå½©è›‹å¿…é¡»å®ç° <code>render(app, navigate)</code> æ–¹æ³•ï¼š</p><p><ul>
<li><code>app</code>: DOM å…ƒç´ ï¼Œç”¨äºæ¸²æŸ“å†…å®¹
</li>
<li><code>navigate</code>: å¯¼èˆªå‡½æ•°ï¼Œç”¨äºè·³è½¬åˆ°å…¶ä»–é¡µé¢
</li>
</ul></p><p><pre><code class="language-javascript">render(app, navigate) {
  // 1. æ¸²æŸ“ HTML
  app.innerHTML = `...`;
  
  // 2. æ·»åŠ äº‹ä»¶ç›‘å¬
  document.getElementById('myBtn').addEventListener('click', () =&gt; {
    navigate('#home');  // è·³è½¬åˆ°é¦–é¡µ
  });
  
  // 3. åˆå§‹åŒ–é€»è¾‘ï¼ˆå¯é€‰ï¼‰
  this.initMyLogic();
}</code></pre></p><p><h3>æ ·å¼</h3></p><p>å½©è›‹å¯ä»¥ä½¿ç”¨ <code>style.css</code> ä¸­å·²æœ‰çš„æ ·å¼ç±»ï¼Œæˆ–è€…åœ¨ render æ–¹æ³•ä¸­æ·»åŠ è‡ªå®šä¹‰æ ·å¼ï¼š</p><p><pre><code class="language-javascript">render(app, navigate) {
  app.innerHTML = `
    &lt;style&gt;
      .my-custom-class {
        color: red;
      }
    &lt;/style&gt;
    &lt;div class="page"&gt;
      &lt;div class="card my-custom-class"&gt;
        å†…å®¹
      &lt;/div&gt;
    &lt;/div&gt;
  `;
}</code></pre></p><p><h3>æ•°æ®æŒä¹…åŒ–</h3></p><p>ä½¿ç”¨ <code>localStorage</code> ä¿å­˜æ•°æ®ï¼š</p><p><pre><code class="language-javascript">// ä¿å­˜
localStorage.setItem('newEggData', JSON.stringify(data));

// è¯»å–
const data = JSON.parse(localStorage.getItem('newEggData') || '{}');</code></pre></p><p><h3>æœ€ä½³å®è·µ</h3></p><p><ol>
<li><strong>æ¨¡å—åŒ–</strong>ï¼šå°†å¤æ‚é€»è¾‘æ‹†åˆ†æˆå¤šä¸ªæ–¹æ³•
</li>
<li><strong>æ¸…ç†èµ„æº</strong>ï¼šå¦‚æœä½¿ç”¨äº†å®šæ—¶å™¨æˆ–äº‹ä»¶ç›‘å¬ï¼Œè®°å¾—åœ¨é¡µé¢åˆ‡æ¢æ—¶æ¸…ç†
</li>
<li><strong>å“åº”å¼è®¾è®¡</strong>ï¼šç¡®ä¿åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šä¹Ÿèƒ½æ­£å¸¸æ˜¾ç¤º
</li>
<li><strong>é”™è¯¯å¤„ç†</strong>ï¼šæ·»åŠ é€‚å½“çš„é”™è¯¯å¤„ç†å’Œç”¨æˆ·æç¤º
</li>
</ol></p><p><h2>ç¤ºä¾‹ï¼šå®Œæ•´çš„å½©è›‹æ¨¡æ¿</h2></p><p><pre><code class="language-javascript">// æ¨¡æ¿å½©è›‹
const TemplateEasterEgg = {
  // çŠ¶æ€å˜é‡
  timer: null,
  
  // æ¸²æŸ“é¡µé¢
  render(app, navigate) {
    app.innerHTML = `
      &lt;div class="page"&gt;
        &lt;div class="card"&gt;
          &lt;h1&gt;æ¨¡æ¿å½©è›‹&lt;/h1&gt;
          &lt;div id="content"&gt;&lt;/div&gt;
          &lt;button id="backBtn"&gt;è¿”å›&lt;/button&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    `;
    
    // ç»‘å®šäº‹ä»¶
    document.getElementById('backBtn').addEventListener('click', () =&gt; {
      this.cleanup();
      navigate('#home');
    });
    
    // åˆå§‹åŒ–
    this.init();
  },
  
  // åˆå§‹åŒ–é€»è¾‘
  init() {
    this.loadData();
    this.startTimer();
  },
  
  // åŠ è½½æ•°æ®
  loadData() {
    const data = localStorage.getItem('templateData');
    // å¤„ç†æ•°æ®...
  },
  
  // å¯åŠ¨å®šæ—¶å™¨
  startTimer() {
    this.timer = setInterval(() =&gt; {
      // å®šæ—¶ä»»åŠ¡...
    }, 1000);
  },
  
  // æ¸…ç†èµ„æº
  cleanup() {
    if (this.timer) {
      clearInterval(this.timer);
      this.timer = null;
    }
  }
};

// æ³¨å†Œåˆ°å…¨å±€
if (typeof window !== 'undefined') {
  window.TemplateEasterEgg = TemplateEasterEgg;
}</code></pre></p><p><h2>æŠ€æœ¯ç»†èŠ‚</h2></p><p><h3>å‘½åè§„åˆ™</h3></p><p><ul>
<li><strong>æ–‡ä»¶å</strong>ï¼šå°å†™ + è¿å­—ç¬¦ï¼Œå¦‚ <code>new-egg.js</code>
</li>
<li><strong>å¯¹è±¡å</strong>ï¼šé©¼å³° + EasterEggï¼Œå¦‚ <code>NewEggEasterEgg</code>
</li>
<li><strong>è½¬æ¢è§„åˆ™</strong>ï¼š<code>new-egg</code> â†’ <code>NewEggEasterEgg</code>
</li>
</ul></p><p><h3>è·¯ç”±æœºåˆ¶</h3></p><p><ol>
<li>ç”¨æˆ·è®¿é—® <code>#new-egg</code>
</li>
<li>è·¯ç”±ç³»ç»Ÿæ£€æµ‹åˆ°å½©è›‹ ID
</li>
<li>ç®¡ç†å™¨æŸ¥æ‰¾å¯¹åº”çš„å½©è›‹é…ç½®
</li>
<li>è‡ªåŠ¨åŠ è½½å¹¶æ¸²æŸ“å½©è›‹
</li>
</ol></p><p><h3>API è¯´æ˜</h3></p><p><h4>render(app, navigate)</h4></p><p>æ¯ä¸ªå½©è›‹å¿…é¡»å®ç°æ­¤æ–¹æ³•</p><p><pre><code class="language-javascript">render(app, navigate) {
  // app: DOM å…ƒç´ ï¼Œç”¨äºæ¸²æŸ“å†…å®¹
  // navigate: å‡½æ•°ï¼Œç”¨äºé¡µé¢è·³è½¬
  
  app.innerHTML = `&lt;div&gt;å†…å®¹&lt;/div&gt;`;
  
  // è·³è½¬ç¤ºä¾‹
  navigate('#home');    // è·³è½¬åˆ°é¦–é¡µ
  navigate('#blog');    // è·³è½¬åˆ°åšå®¢åˆ—è¡¨
}</code></pre></p><p><h2>å‡çº§ä¼˜åŠ¿</h2></p><p><h3>ä¹‹å‰ï¼ˆç¡¬ç¼–ç ï¼‰</h3></p><p><pre><code class="language-javascript">// app.js ä¸­éœ€è¦æ·»åŠ å¤šå¤„ä»£ç 
if (hash === '#clock') {
  this.renderClock();
  return;
}

renderClock() {
  // å¤§é‡ä»£ç ...
}

initClock() {
  // æ›´å¤šä»£ç ...
}</code></pre></p><p><h3>ç°åœ¨ï¼ˆé…ç½®åŒ–ï¼‰</h3></p><p><pre><code class="language-javascript">// 1. åˆ›å»ºæ–‡ä»¶ easter-eggs/new-egg.js
// 2. åœ¨ config.js æ·»åŠ ä¸€è¡Œé…ç½®
// å®Œæˆï¼</code></pre></p>
  </article>
</body>
</html>